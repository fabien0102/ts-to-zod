// Generated by ts-to-zod
import { z } from "zod";

export const maybe = <T extends z.ZodTypeAny>(schema: T) => {
  return schema.nullable().optional();
};

export const simplifiedJSDocTagSchema = z.object({
  name: z.string(),
  value: z.string().optional(),
});

export const getSchemaNameSchema = z
  .function()
  .args(z.string())
  .returns(z.string());

export const nameFilterSchema = z
  .function()
  .args(z.string())
  .returns(z.boolean());

export const jSDocTagFilterSchema = z
  .function()
  .args(z.array(simplifiedJSDocTagSchema))
  .returns(z.boolean());

export const configSchema = z.object({
  input: z.string(),
  output: z.string(),
  skipValidation: z.boolean().optional(),
  maxRun: z.number().optional(),
  nameFilter: nameFilterSchema.optional(),
  jsDocTagFilter: jSDocTagFilterSchema.optional(),
  getSchemaName: getSchemaNameSchema.optional(),
  keepComments: z.boolean().optional().default(false),
  skipParseJSDoc: z.boolean().optional().default(false),
  maybeTypeNames: z.array(z.string()).optional(),
  maybeOptional: z.boolean().optional().default(true),
  maybeNullable: z.boolean().optional().default(true),
});

export const configsSchema = z.array(
  configSchema.and(
    z.object({
      name: z.string(),
    })
  )
);

export const tsToZodConfigSchema = z.union([configSchema, configsSchema]);
